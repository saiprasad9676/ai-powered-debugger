{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HistoryPage=()=>{const navigate=useNavigate();const{currentUser}=useAuth();const[history,setHistory]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchHistory=async()=>{try{const response=await fetch(`${process.env.REACT_APP_API_URL}/api/history/${currentUser.uid}?limit=5`);if(response.ok){const data=await response.json();setHistory(data);}}catch(error){console.error('Error fetching history:',error);}finally{setLoading(false);}};if(currentUser){fetchHistory();}},[currentUser]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#1E1E1E] text-white\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-[#2D2D2D] p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold\",children:\"Debug History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/debug'),className:\"px-4 py-2 bg-[#4F46E5] rounded-lg hover:bg-[#4338CA]\",children:\"Back to Debug\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#2D2D2D] rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"Recent Debug Sessions\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:\"Loading history...\"})}):history.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:\"No debug history found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/debug'),className:\"mt-4 px-6 py-2 bg-[#4F46E5] rounded-lg hover:bg-[#4338CA]\",children:\"Start Debugging\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:history.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#1E1E1E] rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400\",children:new Date(item.timestamp).toLocaleString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-semibold mt-1\",children:[item.language.charAt(0).toUpperCase()+item.language.slice(1),\" Code Debug\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-[#4F46E5] rounded-full text-sm\",children:item.language})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-400 mb-2\",children:\"Original Code\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"bg-[#2D2D2D] p-3 rounded overflow-x-auto\",children:/*#__PURE__*/_jsx(\"code\",{children:item.originalCode})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-400 mb-2\",children:\"Debug Output\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"bg-[#2D2D2D] p-3 rounded overflow-x-auto\",children:/*#__PURE__*/_jsx(\"code\",{children:item.output})})]})]})]},index))})]})})]});};export default HistoryPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","HistoryPage","navigate","currentUser","history","setHistory","loading","setLoading","fetchHistory","response","fetch","process","env","REACT_APP_API_URL","uid","ok","data","json","error","console","className","children","onClick","length","map","item","index","Date","timestamp","toLocaleString","language","charAt","toUpperCase","slice","originalCode","output"],"sources":["C:/Users/konda/Videos/Ai-powered-debugger-master/src/pages/HistoryPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst HistoryPage = () => {\r\n  const navigate = useNavigate();\r\n  const { currentUser } = useAuth();\r\n  const [history, setHistory] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchHistory = async () => {\r\n      try {\r\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/history/${currentUser.uid}?limit=5`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setHistory(data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching history:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (currentUser) {\r\n      fetchHistory();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#1E1E1E] text-white\">\r\n      <nav className=\"bg-[#2D2D2D] p-4\">\r\n        <div className=\"max-w-6xl mx-auto flex justify-between items-center\">\r\n          <h1 className=\"text-xl font-bold\">Debug History</h1>\r\n          <button\r\n            onClick={() => navigate('/debug')}\r\n            className=\"px-4 py-2 bg-[#4F46E5] rounded-lg hover:bg-[#4338CA]\"\r\n          >\r\n            Back to Debug\r\n          </button>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"max-w-6xl mx-auto p-4\">\r\n        <div className=\"bg-[#2D2D2D] rounded-lg p-6\">\r\n          <h2 className=\"text-2xl font-bold mb-6\">Recent Debug Sessions</h2>\r\n          \r\n          {loading ? (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"text-gray-400\">Loading history...</div>\r\n            </div>\r\n          ) : history.length === 0 ? (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"text-gray-400\">No debug history found</div>\r\n              <button\r\n                onClick={() => navigate('/debug')}\r\n                className=\"mt-4 px-6 py-2 bg-[#4F46E5] rounded-lg hover:bg-[#4338CA]\"\r\n              >\r\n                Start Debugging\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              {history.map((item, index) => (\r\n                <div key={index} className=\"bg-[#1E1E1E] rounded-lg p-4\">\r\n                  <div className=\"flex justify-between items-start mb-4\">\r\n                    <div>\r\n                      <span className=\"text-sm text-gray-400\">\r\n                        {new Date(item.timestamp).toLocaleString()}\r\n                      </span>\r\n                      <div className=\"text-lg font-semibold mt-1\">\r\n                        {item.language.charAt(0).toUpperCase() + item.language.slice(1)} Code Debug\r\n                      </div>\r\n                    </div>\r\n                    <span className=\"px-3 py-1 bg-[#4F46E5] rounded-full text-sm\">\r\n                      {item.language}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <h3 className=\"text-sm font-medium text-gray-400 mb-2\">Original Code</h3>\r\n                      <pre className=\"bg-[#2D2D2D] p-3 rounded overflow-x-auto\">\r\n                        <code>{item.originalCode}</code>\r\n                      </pre>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <h3 className=\"text-sm font-medium text-gray-400 mb-2\">Debug Output</h3>\r\n                      <pre className=\"bg-[#2D2D2D] p-3 rounded overflow-x-auto\">\r\n                        <code>{item.output}</code>\r\n                      </pre>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HistoryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}